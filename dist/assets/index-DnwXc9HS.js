import{m as z,j as t}from"./index-7y0nuQtc.js";import{r}from"./react-vendor-f7eSi6lh.js";import{s,c as w,F as C,S as d,B as i,h as D,i as I,d as T}from"./antd-vendor-HB3yOQve.js";import"./redux-vendor-BpEqDkIJ.js";const v=()=>{const[h,l]=r.useState(!1),[m,p]=r.useState([]),[c,x]=r.useState({current:1,pageSize:10,total:0});r.useEffect(()=>{document.title="数据列表 - QDleader Admin",o(1,10)},[]);const o=async(e,n)=>{l(!0);try{const a=await z(e,n);a.success&&(p(a.data.list),x({current:a.data.page,pageSize:a.data.pageSize,total:a.data.total}))}catch{s.error("获取数据失败")}finally{l(!1)}},u=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"名称",dataIndex:"name",key:"name"},{title:"描述",dataIndex:"description",key:"description"},{title:"状态",dataIndex:"status",key:"status",width:100,render:e=>t.jsx(T,{color:e==="active"?"success":"default",children:e==="active"?"激活":"未激活"})},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180,render:e=>new Date(e).toLocaleString("zh-CN")},{title:"操作",key:"action",width:150,render:(e,n)=>t.jsxs(d,{size:"small",children:[t.jsx(i,{type:"link",size:"small",onClick:()=>j(n),children:"查看"}),t.jsx(i,{type:"link",size:"small",onClick:()=>k(n),children:"编辑"}),t.jsx(i,{type:"link",size:"small",danger:!0,onClick:()=>y(n),children:"删除"})]})}],f=e=>{o(e.current||1,e.pageSize||10)},g=()=>{o(c.current,c.pageSize)},j=e=>{s.info(`查看数据：${e.name}`)},k=e=>{s.info(`编辑数据：${e.name}`)},y=e=>{s.warning(`删除数据：${e.name}`)},S=()=>{s.info("新增数据")};return t.jsx("div",{children:t.jsx(w,{title:"数据列表",extra:t.jsxs(d,{children:[t.jsx(i,{icon:t.jsx(D,{}),type:"primary",onClick:S,children:"新增"}),t.jsx(i,{icon:t.jsx(I,{}),onClick:g,children:"刷新"})]}),children:t.jsx(C,{columns:u,dataSource:m,loading:h,rowKey:"id",pagination:c,onChange:f})})})};export{v as default};
